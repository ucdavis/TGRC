@model TGRC.Models.GeneDetailsViewModel

@{
    if(ViewBag.Frame == "yes")
    {
        Layout = "_LayoutFrame";
    }
}

<h2>Gene Details</h2>

<div>
    <table class="table">
        <thead>
            <th>Gene</th>
            <th>Locus Name</th>
            <th>Chromosome</th>
            <th>Arm</th>
            <th>Marker type</th>
        </thead>
        <tbody>
            <tr>
                <td>@Model.gene.Gene1</td>
                <td>@Model.gene.LocusName</td>
                <td>@Model.gene.Chromosome</td>
                <td>@Model.gene.Arm</td>
                <td>@Model.gene.MarkerType</td>
            </tr>
        </tbody>
    </table>
    @if(Model.alleles.Any()){
    <table class="table">
        <thead>
            <th>Allele</th>
            <th>Allele Name</th>
            <th>Synonyms</th>
            <th>Source</th>
            <th>Notes</th>
            <th>Phenotype</th>
            <th>Primary</th>
            <th>Description</th>
        </thead>
        <tbody>
            @foreach (var allele in Model.alleles)
            {
                <tr>
                    <td>@allele.Allele</td>
                    <td>@allele.AlleleName</td>
                    <td>@allele.SynonymsOfAllele</td>
                    <td>@allele.MutantType</td>
                    <td>@allele.Notes</td>
                    <td>@allele.Phenotype</td>
                    <td>@allele.PhenoTypeDetails.PrimaryPhenotype</td>
                    <td>@allele.PhenoTypeDetails.Category.Description</td>
                </tr>
            }            
        </tbody>
    </table>
    } else {
        <h4>No Alleles found.</h4>
    }
    @if(Model.accessions.Any()){
    <div class="col-10 border container row">
        <h5>Accessions with this gene (only Active accessions shown)</h5>
        <ul class="list-group list-group-horizontal form-control-plaintext">
        @foreach (var acc in Model.accessions)
        {
            <div class="col-2">
                @if(ViewBag.Frame == "yes")
                {
                    <li class="list-group-item"><a asp-route-frame="yes" asp-action="detail" asp-controller="Accession" asp-route-id="@acc.AccessionNum">@acc.AccessionNum</a></li>
                } else {
                    <li class="list-group-item"><a asp-action="detail" asp-controller="Accession" asp-route-id="@acc.AccessionNum">@acc.AccessionNum</a></li>
                }   
            </div>
        }</ul>
    </div>
    } else {
        <h4>No active Accessions found with this gene</h4>
    }
    @if(Model.images.Any()){
    <div class="col-12 border">
        <h5>Image Links</h5>
        @foreach (var image in Model.images)
        {
            <div class="col-12 container row imageRow">
                <div class="col">
                    @if(ViewBag.Frame == "yes")
                    {
                        <a asp-route-frame="yes" asp-action="detail" asp-controller="Images" asp-route-id="@image.Image.File"><img src="@($"{image.Image.Location}thumbnails/{image.Image.File}")"></a>
                    } else {
                        <a asp-action="detail" asp-controller="Images" asp-route-id="@image.Image.File"><img src="@($"{image.Image.Location}thumbnails/{image.Image.File}")"></a>
                    }                       
                </div>                
                <div class="col-8"> @image.Image.Caption</div>               
            </div>
        }
    </div>
    }
</div>